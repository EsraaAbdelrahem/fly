{"remainingRequest":"/home/esraa/Desktop/flyTask front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/esraa/Desktop/flyTask front-end/src/components/pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/esraa/Desktop/flyTask front-end/src/components/pagination.vue","mtime":1579266828900},{"path":"/home/esraa/Desktop/flyTask front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/esraa/Desktop/flyTask front-end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/esraa/Desktop/flyTask front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/esraa/Desktop/flyTask front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICByZXZpZXdzUGVyUGFnZTogMywKICAgIH07Cn0sCnByb3BzOiB7CiAgICBtYXhWaXNpYmxlQnV0dG9uczogewogICAgdHlwZTogTnVtYmVyLAogICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgZGVmYXVsdDogMwogICAgfSwKICAgIHRvdGFsUGFnZXM6IHsKICAgIHR5cGU6IE51bWJlciwKICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdG90YWw6IHsKICAgIHR5cGU6IE51bWJlciwKICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY3VycmVudFBhZ2U6IHsKICAgIHR5cGU6IE51bWJlciwKICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9Cn0sCmNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgIGhvdGVsOiAiSG90ZWxzL2hvdGVsIgogICAgfSksCiAgICBvcmRlcmVkU2NvcmUgKCkgewogICAgICAgIHJldHVybiBfLnNvcnRCeSh0aGlzLmhvdGVsLnJldmlld3MsIHsnc2NvcmUnOidkZXNjJ30pCiAgICB9LAogICAgYWxsUmV2aWV3cyAoKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaG90ZWwucmV2aWV3cykubWFwKHBpZCA9PiB0aGlzLmhvdGVsLnJldmlld3NbcGlkXSkKICAgIH0sCiAgICBmaWx0ZXJlZFJldmlld3MgKCkgewogICAgICByZXR1cm4gIHRoaXMuYWxsUmV2aWV3cy5zbGljZSgodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5yZXZpZXdzUGVyUGFnZSwgdGhpcy5jdXJyZW50UGFnZSAqIHRoaXMucmV2aWV3c1BlclBhZ2UgKQogICAgfSwKICAgIHN0YXJ0UGFnZSgpIHsKICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID09PSAxKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT09IHRoaXMudG90YWxQYWdlcykgeyAKICAgICAgICByZXR1cm4gdGhpcy50b3RhbFBhZ2VzIC0gdGhpcy5tYXhWaXNpYmxlQnV0dG9ucyArIDE7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgLSAxOwoKICAgIH0sCiAgICBlbmRQYWdlKCkgewogICAgCiAgICByZXR1cm4gTWF0aC5taW4odGhpcy5zdGFydFBhZ2UgKyB0aGlzLm1heFZpc2libGVCdXR0b25zIC0gMSwgdGhpcy50b3RhbFBhZ2VzKTsKICAgIAogICAgfSwKICAgIHBhZ2VzKCkgewogICAgY29uc3QgcmFuZ2UgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gdGhpcy5zdGFydFBhZ2U7IGkgPD0gdGhpcy5lbmRQYWdlOyBpKz0gMSApIHsKICAgICAgICByYW5nZS5wdXNoKHsKICAgICAgICBuYW1lOiBpLAogICAgICAgIGlzRGlzYWJsZWQ6IGkgPT09IHRoaXMuY3VycmVudFBhZ2UgCiAgICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHJhbmdlOwogICAgfSwKICAgIGlzSW5GaXJzdFBhZ2UoKSB7CiAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZSA9PT0gMTsKICAgIH0sCiAgICBpc0luTGFzdFBhZ2UoKSB7CiAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZSA9PT0gdGhpcy50b3RhbFBhZ2VzOwogICAgfSwKfSwKbWV0aG9kczogewogICAgb25DbGlja0ZpcnN0UGFnZSgpIHsKICAgIHRoaXMuJGVtaXQoJ3BhZ2VjaGFuZ2VkJywgMSk7CiAgICB9LAogICAgb25DbGlja1ByZXZpb3VzUGFnZSgpIHsKICAgIHRoaXMuJGVtaXQoJ3BhZ2VjaGFuZ2VkJywgdGhpcy5jdXJyZW50UGFnZSAtIDEpOwogICAgfSwKICAgIG9uQ2xpY2tQYWdlKHBhZ2UpIHsKICAgIHRoaXMuJGVtaXQoJ3BhZ2VjaGFuZ2VkJywgcGFnZSk7CiAgICB9LAogICAgb25DbGlja05leHRQYWdlKCkgewogICAgdGhpcy4kZW1pdCgncGFnZWNoYW5nZWQnLCB0aGlzLmN1cnJlbnRQYWdlICsgMSk7CiAgICB9LAogICAgb25DbGlja0xhc3RQYWdlKCkgewogICAgdGhpcy4kZW1pdCgncGFnZWNoYW5nZWQnLCB0aGlzLnRvdGFsUGFnZXMpOyAgICAKICAgIH0sCiAgICBpc1BhZ2VBY3RpdmUocGFnZSkgewogICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPT09IHBhZ2U7CiAgICB9LAp9Cn07Cg=="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div> \n    <div v-for=\"(review,key) in filteredReviews\" :key=\"key\"\n          class=\"reviews d-flex flex-row\">\n        <p  v-bind=\"orderedScore\"> {{review.score}} </p>\n        <p> {{ review.review }}</p>\n    </div>\n    <ul class=\"pagination d-flex justify-content-center flex-row\">\n        <li class=\"pagination-item\">\n            <button \n            type=\"button\" \n            @click=\"onClickFirstPage\"\n            :disabled=\"isInFirstPage\"\n            aria-label=\"Go to first page\">First</button>\n        </li>\n        <li class=\"pagination-item\">\n            <button \n            type=\"button\" \n            @click=\"onClickPreviousPage\"\n            :disabled=\"isInFirstPage\"\n            aria-label=\"Go to previous page\">Previous</button>\n        </li>\n        <li v-for=\"(page, index) in pages\" \n            :key=\"index\" \n            class=\"pagination-item\">\n            <button \n                type=\"button\" \n                @click=\"onClickPage(page.name)\"\n                :disabled=\"page.isDisabled\"\n                :class=\"{ active: isPageActive(page.name) }\"\n                :aria-label=\"`Go to page number ${page.name}`\">\n                {{ page.name }}\n            </button>\n        </li>\n        <li class=\"pagination-item\">\n            <button \n            type=\"button\" \n            @click=\"onClickNextPage\"\n            :disabled=\"isInLastPage\"\n            aria-label=\"Go to next page\">Next</button>\n        </li>\n        <li class=\"pagination-item\">\n            <button \n            type=\"button\" \n            @click=\"onClickLastPage\"\n            :disabled=\"isInLastPage\"\n            aria-label=\"Go to last page\"> Last</button>\n        </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n    import { mapGetters } from \"vuex\";\n    \n    export default {\n    data() {\n        return {\n        reviewsPerPage: 3,\n        };\n    },\n    props: {\n        maxVisibleButtons: {\n        type: Number,\n        required: false,\n        default: 3\n        },\n        totalPages: {\n        type: Number,\n        required: true\n        },\n        total: {\n        type: Number,\n        required: true\n        },\n        currentPage: {\n        type: Number,\n        required: true\n        }\n    },\n    computed: {\n        ...mapGetters({\n        hotel: \"Hotels/hotel\"\n        }),\n        orderedScore () {\n            return _.sortBy(this.hotel.reviews, {'score':'desc'})\n        },\n        allReviews () {\n            return Object.keys(this.hotel.reviews).map(pid => this.hotel.reviews[pid])\n        },\n        filteredReviews () {\n          return  this.allReviews.slice((this.currentPage - 1) * this.reviewsPerPage, this.currentPage * this.reviewsPerPage )\n        },\n        startPage() {\n        if (this.currentPage === 1) {\n            return 1;\n        }\n\n        if (this.currentPage === this.totalPages) { \n            return this.totalPages - this.maxVisibleButtons + 1;\n        }\n\n        return this.currentPage - 1;\n\n        },\n        endPage() {\n        \n        return Math.min(this.startPage + this.maxVisibleButtons - 1, this.totalPages);\n        \n        },\n        pages() {\n        const range = [];\n\n        for (let i = this.startPage; i <= this.endPage; i+= 1 ) {\n            range.push({\n            name: i,\n            isDisabled: i === this.currentPage \n            });\n        }\n\n        return range;\n        },\n        isInFirstPage() {\n        return this.currentPage === 1;\n        },\n        isInLastPage() {\n        return this.currentPage === this.totalPages;\n        },\n    },\n    methods: {\n        onClickFirstPage() {\n        this.$emit('pagechanged', 1);\n        },\n        onClickPreviousPage() {\n        this.$emit('pagechanged', this.currentPage - 1);\n        },\n        onClickPage(page) {\n        this.$emit('pagechanged', page);\n        },\n        onClickNextPage() {\n        this.$emit('pagechanged', this.currentPage + 1);\n        },\n        onClickLastPage() {\n        this.$emit('pagechanged', this.totalPages);    \n        },\n        isPageActive(page) {\n        return this.currentPage === page;\n        },\n    }\n    };\n</script>\n\n<style lang=\"less\" scoped>\n/* I'm also making sure that I didn't use\n   any sort of design just very basic less structure\n*/\n    .reviews {\n        margin: 10px;\n      p {\n          margin: 10px;\n      }\n    }\n\n    .pagination {\n      list-style-type: none;\n    }\n\n    .pagination-item {\n      display: inline-block;\n    }\n\n    .active {\n        background-color: #4aae9b;\n        color: #ffffff;\n    }\n</style>\n"]}]}